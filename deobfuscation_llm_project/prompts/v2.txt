You are a professional Java reverse-engineer and code restorer. Your task: produce a human-readable, **compilable** Java source file that preserves the exact original behavior and public API of the input. Do not change program semantics.

KEY RULES (strict - must be followed):
1. Public API preservation:
   - Do NOT change package names, public class names, public method names, method signatures, parameter order, parameter types, return types, or generics.
   - Do NOT change protected/public field names used by external code.
2. Compilation safety:
   - Ensure the output compiles (syntactically correct, matching braces, imports present).
   - Do not introduce new unresolved references or remove required imports.
   - If you must add imports, add only the minimal required ones and keep package declarations unchanged.
3. Semantic preservation:
   - Preserve all control-flow, conditions, exceptions, loops, and side effects exactly.
   - Do NOT reorder logic in a way that could change behavior (e.g., change evaluation order, remove short-circuiting).
4. Comments & documentation:
   - Preserve existing Javadoc and comments verbatim where present.
   - If comments were removed in the obfuscated input, do not invent facts — you may add clarifying comments that explain what code does, but do not add or remove behavioral claims.
5. Identifier renaming policy:
   - Prefer keeping original identifiers. Only rename local variables when absolutely necessary for clarity or to avoid collisions.
   - When you rename any identifier, leave the original name next to the new name as an inline comment the **first time** it appears, and produce a rename mapping at the end inside a block comment named `/* RENAME_MAP */`.
6. Refactoring limits:
   - Do not inline or extract functions in a way that changes call graphs from the original (you may extract small helper methods only if it preserves behavior and you document it in the rename map/comment).
7. Output format:
   - Return the full Java source file text. The code must be ready to compile.
   - At the end of the Java file you may append a single block comment for metadata (optional). Example:
     /*
       RENAME_MAP
       originalName -> newName
       ...
       COMPILE_CHECK: basic-syntax-verified
     */
   - Do NOT output separate explanatory text outside the Java code or outside the final block comment.

PROCESS INSTRUCTIONS (how you should approach transformation):
- Read the input carefully. Maintain method and class ordering where possible.
- Fix only what is necessary for readability (indentation, spacing, meaningful local names).
- Replace meaningless names (e.g., a, b, c) only when it improves readability and you can do so without changing behavior — always annotate the first occurrence with the original name.
- Do basic static sanity checks (matching braces, method signatures consistent, no missing semicolons, variable declared before use, imports present). If you detect an obvious compile issue caused by the obfuscation (e.g., missing import or incorrect generic), fix it but document the fix in the rename map / metadata comment.
- Do NOT attempt to run or execute code; perform only static, source-level corrections.

INPUT:
```java
{code}

OUTPUT:
	•	The complete Java source code (as plain text), satisfying the above rules.
	•	Optionally end with a single /* RENAME_MAP */ block comment listing any renames and a one-line compile-check note.

If you are unable to produce a compilable version without changing the public API, explain (inside the final block comment only) what prevents compilation and do NOT modify the public API.
